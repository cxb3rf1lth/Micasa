# ==============================================
# MICASA SERVER ENVIRONMENT CONFIGURATION
# ==============================================
# IMPORTANT: Copy this file to .env and update all values
# NEVER commit the .env file to version control

# ----------------------------------------------
# SERVER CONFIGURATION
# ----------------------------------------------
PORT=5000
NODE_ENV=development

# ----------------------------------------------
# SECURITY - CRITICAL: CHANGE THESE IN PRODUCTION!
# ----------------------------------------------
# JWT Secret Key - Used for signing authentication tokens
# SECURITY WARNING: Generate a new strong random secret for production
# You can generate one with: openssl rand -base64 48
JWT_SECRET=+f1/M7saaN5bkmon6ANeqo7O8WMdPsGrhGqcctK/kKVMZSgbbrFXEL0F4diE9CMa

# JWT Token Expiration (default: 30 days)
JWT_EXPIRE=30d

# ----------------------------------------------
# CLIENT CONFIGURATION
# ----------------------------------------------
# URL of the frontend client (used for CORS)
# For production: https://yourdomain.com
# For development: http://localhost:3000
CLIENT_URL=http://localhost:3000

# ----------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------
# Local Development: SQLite
# Path to SQLite database file (relative to server directory)
DATABASE_PATH=./data/micasa.db

# AWS Production: PostgreSQL RDS
# If RDS_HOSTNAME is set, the app will use PostgreSQL instead of SQLite
# RDS_HOSTNAME=micasa-db.xxxxxxxxx.us-east-1.rds.amazonaws.com
# RDS_PORT=5432
# RDS_USERNAME=micasa
# RDS_PASSWORD=your_strong_password_here
# RDS_DB_NAME=micasa

# ----------------------------------------------
# RATE LIMITING
# ----------------------------------------------
# Rate limit window in milliseconds (15 minutes = 900000ms)
RATE_LIMIT_WINDOW_MS=900000

# Max requests per window for API routes
RATE_LIMIT_MAX_REQUESTS=100

# Max requests per window for authentication routes (stricter)
AUTH_RATE_LIMIT_MAX=5

# Max requests per window for static file serving
STATIC_RATE_LIMIT_MAX=100

# ----------------------------------------------
# REQUEST LIMITS
# ----------------------------------------------
# Maximum request body size (for file uploads, etc.)
MAX_PAYLOAD_SIZE=10mb

# ----------------------------------------------
# LOGGING
# ----------------------------------------------
# Log level: error, warn, info, debug
LOG_LEVEL=info

# ----------------------------------------------
# AWS CONFIGURATION (Production Only)
# ----------------------------------------------
# AWS Region for services (CloudWatch, RDS, etc.)
# AWS_REGION=us-east-1

# CloudWatch Logs group name
# CLOUDWATCH_GROUP_NAME=micasa-app

# EC2 Instance hostname (automatically set on AWS EC2)
# HOSTNAME=ip-172-31-0-1

# ----------------------------------------------
# PRODUCTION-ONLY SETTINGS
# ----------------------------------------------
# Only needed when NODE_ENV=production

# Allowed CORS origins (comma-separated for multiple)
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Enable HSTS (HTTP Strict Transport Security) - requires HTTPS
# HSTS_ENABLED=true

# HSTS Max Age (in seconds, default 1 year)
# HSTS_MAX_AGE=31536000

# ----------------------------------------------
# OPTIONAL FEATURES
# ----------------------------------------------
# Enable webhook functionality
WEBHOOKS_ENABLED=true

# Webhook timeout in milliseconds
WEBHOOK_TIMEOUT=5000
